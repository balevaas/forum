{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Anastasia\\\\Desktop\\\\\\u0432\\u0430\\u0439\\u043D\\u0435\\u0440\\\\react-simple-chat\\\\src\\\\components\\\\Chat.jsx\";\nimport React from 'react';\nimport socket from '../socket';\n\nfunction Chat({\n  users,\n  messages,\n  userName,\n  roomId,\n  onAddMessage\n}) {\n  const [messageValue, setMessageValue] = React.useState('');\n  const messagesRef = React.useRef(null);\n\n  const onSendMessage = () => {\n    socket.emit('ROOM:NEW_MESSAGE', {\n      userName,\n      roomId,\n      text: messageValue\n    });\n    onAddMessage({\n      userName,\n      text: messageValue\n    });\n    setMessageValue('');\n  };\n\n  React.useEffect(() => {\n    messagesRef.current.scrollTo(0, 99999);\n  }, [messages]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"alert alert-secondary\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, \"\\u041A\\u043E\\u043C\\u043D\\u0430\\u0442\\u0430: \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 20\n    }\n  }))))\n  /*<div className=\"chat\">\r\n    <div className=\"chat-users\">\r\n      Комната: <b>{roomId}</b>\r\n      <hr />\r\n      <b>Онлайн ({users.length}):</b>\r\n      <ul>\r\n        {users.map((name, index) => (\r\n          <li key={name + index}>{name}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n    <div className=\"chat-messages\">\r\n      <div ref={messagesRef} className=\"messages\">\r\n        {messages.map((message) => (\r\n          <div className=\"message\">\r\n            <p>{message.text}</p>\r\n            <div>\r\n              <span>{message.userName}</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <form>\r\n        <textarea\r\n          value={messageValue}\r\n          onChange={(e) => setMessageValue(e.target.value)}\r\n          className=\"form-control\"\r\n          rows=\"3\"></textarea>\r\n        <button onClick={onSendMessage} type=\"button\" className=\"btn btn-primary\">\r\n          Отправить\r\n        </button>\r\n      </form>\r\n    </div>\r\n  </div>*/\n  ;\n}\n\nexport default Chat;","map":{"version":3,"sources":["C:/Users/Anastasia/Desktop/вайнер/react-simple-chat/src/components/Chat.jsx"],"names":["React","socket","Chat","users","messages","userName","roomId","onAddMessage","messageValue","setMessageValue","useState","messagesRef","useRef","onSendMessage","emit","text","useEffect","current","scrollTo"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;;AAEA,SAASC,IAAT,CAAc;AAAEC,EAAAA,KAAF;AAASC,EAAAA,QAAT;AAAmBC,EAAAA,QAAnB;AAA6BC,EAAAA,MAA7B;AAAqCC,EAAAA;AAArC,CAAd,EAAmE;AACjE,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCT,KAAK,CAACU,QAAN,CAAe,EAAf,CAAxC;AACA,QAAMC,WAAW,GAAGX,KAAK,CAACY,MAAN,CAAa,IAAb,CAApB;;AAEA,QAAMC,aAAa,GAAG,MAAM;AAC1BZ,IAAAA,MAAM,CAACa,IAAP,CAAY,kBAAZ,EAAgC;AAC9BT,MAAAA,QAD8B;AAE9BC,MAAAA,MAF8B;AAG9BS,MAAAA,IAAI,EAAEP;AAHwB,KAAhC;AAKAD,IAAAA,YAAY,CAAC;AAAEF,MAAAA,QAAF;AAAYU,MAAAA,IAAI,EAAEP;AAAlB,KAAD,CAAZ;AACAC,IAAAA,eAAe,CAAC,EAAD,CAAf;AACD,GARD;;AAUAT,EAAAA,KAAK,CAACgB,SAAN,CAAgB,MAAM;AACpBL,IAAAA,WAAW,CAACM,OAAZ,CAAoBC,QAApB,CAA6B,CAA7B,EAAgC,KAAhC;AACD,GAFD,EAEG,CAACd,QAAD,CAFH;AAIA,sBACE;AAAK,IAAA,KAAK,EAAC,uBAAX;AAAmC,IAAA,IAAI,EAAC,OAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEACW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADX,CADF,CADF;AAOA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AARF;AA2CD;;AAED,eAAeF,IAAf","sourcesContent":["import React from 'react';\r\nimport socket from '../socket';\r\n\r\nfunction Chat({ users, messages, userName, roomId, onAddMessage }) {\r\n  const [messageValue, setMessageValue] = React.useState('');\r\n  const messagesRef = React.useRef(null);\r\n\r\n  const onSendMessage = () => {\r\n    socket.emit('ROOM:NEW_MESSAGE', {\r\n      userName,\r\n      roomId,\r\n      text: messageValue,\r\n    });\r\n    onAddMessage({ userName, text: messageValue });\r\n    setMessageValue('');\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    messagesRef.current.scrollTo(0, 99999);\r\n  }, [messages]);\r\n\r\n  return (\r\n    <div class=\"alert alert-secondary\" role=\"alert\">\r\n      <form>\r\n        <div class=\"form-group\">\r\n          Комната: <b></b>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    /*<div className=\"chat\">\r\n      <div className=\"chat-users\">\r\n        Комната: <b>{roomId}</b>\r\n        <hr />\r\n        <b>Онлайн ({users.length}):</b>\r\n        <ul>\r\n          {users.map((name, index) => (\r\n            <li key={name + index}>{name}</li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n      <div className=\"chat-messages\">\r\n        <div ref={messagesRef} className=\"messages\">\r\n          {messages.map((message) => (\r\n            <div className=\"message\">\r\n              <p>{message.text}</p>\r\n              <div>\r\n                <span>{message.userName}</span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <form>\r\n          <textarea\r\n            value={messageValue}\r\n            onChange={(e) => setMessageValue(e.target.value)}\r\n            className=\"form-control\"\r\n            rows=\"3\"></textarea>\r\n          <button onClick={onSendMessage} type=\"button\" className=\"btn btn-primary\">\r\n            Отправить\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>*/\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n"]},"metadata":{},"sourceType":"module"}